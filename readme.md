# phpでGraphQLを試すサンプル

サーバーの起動

```
php -S localhost:8080 ./index.php
```

クエリ例

```
query {
  posts {
    id
    title
    contents
    author {
      name
      age
    }
    tags {
      name
    }
  }
  
  post(id: "2") {
    id
    title
    contents
  }
}
```

レスポンス例

```
{
  "data": {
    "posts": [
      {
        "id": "1",
        "title": "first season",
        "contents": "私立パプリカ学園に通う小学5年生の女の子・真中らぁらは誰でもアイドルになれるテーマパーク・プリパラタウンへの招待券であるプリチケが届くのを心待ちにしていた。しかし、パプリカ学園では小学部校長の方針で小学生のプリパラは厳禁、プリチケは見つかり次第没収されてしまう。",
        "author": {
          "name": "Sophie Hojo",
          "age": 15
        },
        "tags": [
          {
            "name": "Prism Stone"
          },
          {
            "name": "SoLaMi Dressing"
          }
        ]
      },
      {
        "id": "2",
        "title": "second season",
        "contents": "プリパラに新しいエリア「ドリームシアター」が完成し、四季のプリンセスを決めるべく年四回アイドルドリームグランプリを開催することが発表された。グランプリ参加者はチャームを渡されて参加することとなる。そこに黒須あろまと白玉みかんの二人からなるユニット・アロマゲドンが現れる。一度リセットされたSoLaMi♡SMILEとDressingPaféを招き入れようとするも不発に終わり、それぞれのチームとして引き続き活動することとなる。",
        "author": {
          "name": "Mirei Minami",
          "age": 14
        },
        "tags": [
          {
            "name": "armageddon"
          }
        ]
      },
      {
        "id": "3",
        "title": "third season",
        "contents": "パラ宿のプリパラで神アイドルグランプリが開催されることが決定し、らぁら達は神アイドルを目指してこれに参加する決意を固める。同時にらぁらは突然プリパラタウンに現れた謎の赤ちゃん、ジュルルを拾い、みれぃ達と協力して世話をすることになった。この赤ちゃんこそ、神アイドル誕生の鍵を握る女神、ジュリィの仮の姿であった。らぁら達は、ジュルルを元のジュリィに戻すため奮闘することになる。",
        "author": {
          "name": "Laala Manaka",
          "age": 12
        },
        "tags": [
          {
            "name": "nonsugar"
          }
        ]
      }
    ],
    "post": {
      "id": "2",
      "title": "second season",
      "contents": "プリパラに新しいエリア「ドリームシアター」が完成し、四季のプリンセスを決めるべく年四回アイドルドリームグランプリを開催することが発表された。グランプリ参加者はチャームを渡されて参加することとなる。そこに黒須あろまと白玉みかんの二人からなるユニット・アロマゲドンが現れる。一度リセットされたSoLaMi♡SMILEとDressingPaféを招き入れようとするも不発に終わり、それぞれのチームとして引き続き活動することとなる。"
    }
  }
}
```
